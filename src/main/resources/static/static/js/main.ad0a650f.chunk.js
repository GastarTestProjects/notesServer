(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{43:function(e,t,n){e.exports=n(74)},48:function(e,t,n){},49:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(36),c=n.n(r);n(48),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=n(13),i=n(17),l=n(6),u=n(18),m=n(15),h=n(12),p=n(16),d=n(77),f=n(75),g=(n(49),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).prepareDate=function(e){var t="";if(null!=e){var n=new Date(e);t=n.getDate()+"."+new Number(n.getMonth()).toLocaleString(void 0,{minimumIntegerDigits:2})+"."+n.getFullYear()+" "+n.getHours()+":"+n.getMinutes()}return t},n.onTagClick=function(e){var t=e.target.textContent;console.log(t),n.props.search(t)},n.render=function(){return o.a.createElement(d.a,{className:"note-card"},o.a.createElement(d.a.Header,{className:"note-header"},o.a.createElement(d.a.Title,{className:"note-title"},n.props.note.title),o.a.createElement(s.b,{to:"/note/"+n.props.note.id,className:"note-edit-link"},"Edit")),o.a.createElement(d.a.Body,null,o.a.createElement(d.a.Text,{className:"note-text"},n.props.note.text),o.a.createElement(d.a.Text,{className:"note-tags"},n.props.note.tags.map(function(e){return o.a.createElement(f.a,{key:e.name,variant:"info",onClick:n.onTagClick,className:"note-tag"},e.name)})),o.a.createElement(d.a.Text,null,"\u0421\u043e\u0437\u0434\u0430\u043d\u043e: "+n.prepareDate(n.props.note.createDate),o.a.createElement("br",null),"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435: "+n.prepareDate(n.props.note.modifyDate))))},n}return Object(p.a)(t,e),t}(o.a.Component)),v=n(41),E=n.n(v),N=function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,null,[{key:"getNotes",value:function(t,n){e.HTTP.get("/notes",{params:{filter:n}}).then(function(e){return t(e.data)}).catch(function(e){return console.log(e)})}},{key:"getNoteById",value:function(t,n){e.HTTP.get("/notes/"+t).then(function(e){return n(e.data)}).catch(function(e){return console.log(e)})}},{key:"saveNote",value:function(t,n){e.HTTP.post("/notes",t).then(n).catch(function(e){return console.log(e)})}},{key:"deleteNote",value:function(t,n){e.HTTP.delete("/notes",{data:[t.id]}).then(n).catch(function(e){return console.log(e)})}}]),e}();N.HTTP=E.a.create(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_HOST?{baseURL:"http://localhost:8080/api"}:{baseURL:"/api"});n(71);var b=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).getNoteItems=function(){return n.state.notes.map(function(e){return o.a.createElement(g,{key:e.id+"",note:e,search:n.props.search})})},n.loadNotes=function(){console.log("loadNotes "+n.props.query),N.getNotes(function(e){return n.setState(function(){return{notes:e}})},n.props.query.trim()||void 0)},n.componentDidMount=function(){console.log("didMount"),n.loadNotes()},n.componentDidUpdate=function(e){var t=n.props;t.query!==e.query&&(console.log("didUpdate "),console.log(e),console.log(t),n.loadNotes())},n.state={notes:[]},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"notes-list"},this.getNoteItems())}}]),t}(o.a.Component),y=n(76),T=(n(72),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).timer=void 0,n.search=function(){console.log("search"),n.timer&&window.clearTimeout(n.timer),n.timer=window.setTimeout(function(){console.log("search2"),n.setState({searchQuery:n.state.tmpQuery})},1e3)},n.setSearchFieldValue=function(e){n.setState({tmpQuery:e}),n.search()},n.onSearchChange=function(e){n.setState({tmpQuery:e.target.value}),n.search()},n.state={tmpQuery:"",searchQuery:""},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"main-container"},o.a.createElement(y.a.Control,{type:"text",onChange:this.onSearchChange,value:this.state.tmpQuery}),o.a.createElement(s.b,{className:"create-note",to:"/add"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443"),o.a.createElement(b,{query:this.state.searchQuery,search:this.setSearchFieldValue}))}}]),t}(o.a.Component)),w=function e(){Object(l.a)(this,e),this.id=null,this.title="",this.text="",this.tags=[],this.user=null,this.createDate=null,this.modifyDate=null},O=function e(t){Object(l.a)(this,e),this.name="",this.name=t},j=n(42),C=n(78),k=(n(73),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).isNew=void 0,n.componentDidMount=function(){n.isNew||N.getNoteById(n.props.match.params.id,function(e){return n.setState(e)})},n.changeTitle=function(e){n.setState({title:e.target.value})},n.changeText=function(e){n.setState({text:e.target.value})},n.changeTags=function(e){n.setState({tags:e.target.value.split(",").map(function(e){return new O(e.trim())})})},n.saveNote=function(){N.saveNote(n.state,function(){return n.props.history.push("/")})},n.deleteNote=function(){N.deleteNote(n.state,function(){return n.props.history.push("/")})},n.render=function(){return o.a.createElement(y.a,{className:"edit-form"},o.a.createElement(y.a.Group,{controlId:"formTitle"},o.a.createElement(y.a.Label,null,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),o.a.createElement(y.a.Control,{type:"text",value:n.state.title,onChange:n.changeTitle})),o.a.createElement(y.a.Group,{controlId:"formText"},o.a.createElement(y.a.Label,null,"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u043c\u0435\u0442\u043a\u0438"),o.a.createElement(y.a.Control,{as:"textarea",rows:"10",value:n.state.text,onChange:n.changeText})),o.a.createElement(j.a,{controlId:"formTags"},o.a.createElement(y.a.Label,null,"\u0422\u0435\u0433\u0438"),o.a.createElement(y.a.Control,{type:"text",value:n.state.tags.map(function(e){return e.name}).join(", "),onChange:n.changeTags})),o.a.createElement(C.a,{onClick:n.saveNote,className:"save-button"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),n.isNew||o.a.createElement(C.a,{onClick:n.deleteNote},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),o.a.createElement(s.b,{className:"back-link",to:"/"},"\u041d\u0430\u0437\u0430\u0434"))},n.state=new w,n.isNew=n.props.location.pathname.startsWith("/add"),n}return Object(p.a)(t,e),t}(o.a.Component));c.a.render(o.a.createElement(s.a,null,o.a.createElement(i.a,{exact:!0,path:"/",component:T}),o.a.createElement(i.a,{exact:!0,path:"/add",component:k}),o.a.createElement(i.a,{path:"/note/:id",component:k})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[43,1,2]]]);
//# sourceMappingURL=main.ad0a650f.chunk.js.map